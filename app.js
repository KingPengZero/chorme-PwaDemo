!function(e){function r(o){if(n[o])return n[o].exports;var t=n[o]={exports:{},id:o,loaded:!1};return e[o].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var n={};return r.m=e,r.c=n,r.p="",r(0)}([function(e,r){"use strict";function n(){u?i():t()}function o(e){for(var r="=".repeat((4-e.length%4)%4),n=(e+r).replace(/\-/g,"+").replace(/_/g,"/"),o=window.atob(n),t=new Uint8Array(o.length),i=0;i<o.length;++i)t[i]=o.charCodeAt(i);return t}function t(){var e=o(a);c.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e}).then(function(e){console.log("user is subscribed:",JSON.stringify(e)),u=!0,s()}).catch(function(e){console.log("failed to subscribe",e)})}function i(){c.pushManager.getSubscription().then(function(e){if(e)return e.unsubscribe()}).catch(function(e){console.log("err unsubscribe",e)}).then(function(){console.log("user is unsubscribed"),u=!1,s()})}function s(){u?(p.innerText="订阅成功",l.innerText="ok, we will message you at every time picture change. and thanks for your subscribe,you like is our chase."):(p.innerText="订阅图片",l.innerText="you can subscribe, then we will message you picture change. dont you want see new picture?its beatiful.")}var c=null,u=!1,a="BO_R6m8osilNmdOhEHk-KF0o1u-EPruOL1bDaISHwDwSLacPsh35Hg41nZpS00XeCLG-KbGEqx35x6PKsdZNVCk";!function(){var r=document.querySelector("button");if("serviceWorker"in navigator&&"PushManager"in window){var o="prod-service-worker.js";navigator.serviceWorker.register(o).then(function(e){c=e,console.log(r),r.addEventListener("click",n,!0)}).catch(function(e){console.error("Service Worker Error",e)})}else console.warn("Push messaging is not supported"),r.textContent="Push Not Supported"}();var l=document.querySelector("p"),p=document.querySelector("button")}]);